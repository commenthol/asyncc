!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(t.asyncc=t.asyncc||{})}(this,function(t){"use strict";function n(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return 1===t.length&&Array.isArray(t[0])&&(t=t[0]),function(n,e){function i(n,s){var o=t[r++];n||!o?e&&e(n,s):o(s,i)}var r=0;i(null,n)}}function e(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return 1===t.length&&Array.isArray(t[0])&&(t=t[0]),function(n,e){function i(n,s){var o=t[r++];try{if(n){for(;o&&3!==o.length;)o=t[r++];o&&o(n,s,i)}else{for(;o&&o.length>2;)o=t[r++];o&&o(s,i)}}catch(c){i(c,s)}o||e&&e(n,s)}var r=0;i(null,n)}}function i(t,n,e,i){function r(t,n,e){a[t]=e,u[t]=n,n&&c.push(t),h--,o>f?s(f++):i&&!h&&(c.length||(u=null),i(u,a,c))}function s(t){var i=n[t];e(i,function(n,e){r(t,n,e)},t)}var o=n.length;t=Math.abs(t||o);var c=[],u=new Array(o),a=new Array(o),f=0,h=o;!function(){for(t=o>t?t:o;t>f;)s(f++)}()}function r(t,n,e){i(0,t,n,e)}function s(t,n,e){function i(t,n){o.push(n),t||s===c?e&&e(t,o):s>c&&p(function(){r()})}function r(){var e=t[c];n(e,i,c++)}var s=t.length,o=[],c=0;r()}function o(t){this._tasks=[],this.result=t,this.error=void 0,this._lock=!1}function c(t,n,e){function i(t,n,i){u[t]=i,c[t]=n,n&&o.push(t),f--,s>a?r(a++):e&&!f&&(o.length||(c=null),e(c,u,o))}function r(t){var e=n[t];e(function(n,e){i(t,n,e)})}var s=n.length;t=Math.abs(t||s);var o=[],c=new Array(s),u=new Array(s),a=0,f=s;!function(){for(t=s>t?t:s;t>a;)r(a++)}()}function u(t,n){c(0,t,n)}function a(t,n){function e(t,e){s.push(e),t||r===o?n&&n(t,s):r>o&&p(function(){i()})}function i(){var n=t[o++];n(e)}var r=t.length,s=[],o=0;i()}function f(t,n,e){function i(n,i){n||!t(s)?e&&e(n,i):p(function(){r()})}function r(){n(i,s++)}var s=0;t(s)?r():e&&e()}function h(t,n,e){function i(n){return t?0>t?!0:t>n:!1}f(i,n,e)}var l;l="object"==typeof process&&"function"==typeof process.nextTick?process.nextTick:"function"==typeof setImmediate?setImmediate:function(t){setTimeout(t,0)};var p=l;o.prototype={_run:function(){var t=this;if(!this._lock){this._lock=!0;for(var n=this._tasks.shift(),e=this.error?["catch","end"]:["then","end"];n&&!~e.indexOf(n.type);)n=t._tasks.shift();if(n){var i=function(n,e){t.error=n,t.result=e||t.result,t._lock=!1,t._run()},r=n.fn;if("end"===n.type)r(this.error,this.result);else try{"catch"===n.type?r(this.error,this.result,i):r(this.result,i)}catch(s){i(s)}}else this._lock=!1}},then:function(t){return this._tasks.push({type:"then",fn:t}),this._run(),this},"catch":function(t){return this._tasks.push({type:"catch",fn:t}),this._run(),this},end:function(t){this._tasks.push({type:"end",fn:t}),this._run()}};var y={_setImmediate:p,compose:n,connect:e,each:r,eachLimit:i,eachSeries:s,NoPromise:o,parallel:u,parallelLimit:c,series:a,times:h,whilst:f};t["default"]=y,t._setImmediate=p,t.compose=n,t.connect=e,t.each=r,t.eachLimit=i,t.eachSeries=s,t.NoPromise=o,t.parallel=u,t.parallelLimit=c,t.series=a,t.times=h,t.whilst=f,Object.defineProperty(t,"__esModule",{value:!0})});